<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

 <title>Psychstatistics</title>
 <link href="psychstatistics.github.io/atom.xml" rel="self"/>
 <link href="psychstatistics.github.io/"/>
 <updated>2014-12-29T20:51:37-07:00</updated>
 <id>psychstatistics.github.io</id>
 <author>
   <name>Scott Baldwin</name>
   <email></email>
 </author>

 
 <entry>
   <title>Stata: Oneway ANOVA</title>
   <link href="psychstatistics.github.io/2011/07/01/stata-oneway-anova/"/>
   <updated>2011-07-01T03:24:36-06:00</updated>
   <id>psychstatistics.github.io/2011/07/01/stata-oneway-anova</id>
   <content type="html">&lt;h1 id=&quot;oneway-anova&quot;&gt;Oneway ANOVA&lt;/h1&gt;

&lt;p&gt;This post will show how to use the &lt;code&gt;anova&lt;/code&gt; and &lt;code&gt;loneway&lt;/code&gt; commands in Stata to compute a oneway ANOVA.
We will use the &lt;strong&gt;auto&lt;/strong&gt; dataset for this illustration. We will use &lt;em&gt;price&lt;/em&gt; as the outcome variable and &lt;em&gt;foreign&lt;/em&gt; as the factor.&lt;/p&gt;

&lt;p&gt;Let’s initially look at descriptive statistics for &lt;em&gt;price&lt;/em&gt; stratified by &lt;em&gt;foreign&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/Results-auto_dta.jpg&quot; alt=&quot;Results-auto_dta_.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;So it looks like there is a difference between in price between foreign and domestic cars, with foreign cars costing more money. We can test whether this difference is statistically significant with a oneway ANOVA (you could also just a use a t-test since there are just two levels of &lt;em&gt;foreign&lt;/em&gt;).&lt;/p&gt;

&lt;h2 id=&quot;anova-command&quot;&gt;&lt;code&gt;anova&lt;/code&gt; Command&lt;/h2&gt;

&lt;p&gt;The &lt;code&gt;anova&lt;/code&gt; command is simple and follows the standard Stata syntax – Command DV IV&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;anova price foreign
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Viola – you’ve got an ANOVA source table.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/Results-auto_dta-1.jpg&quot; alt=&quot;Results-auto.dta-1.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Looks like the difference in price is not statistically significant. The advantage of using &lt;code&gt;anova&lt;/code&gt; is that you can fit lots of different ANOVA models using this command (e.g., factorial ANOVA, repeated measures ANOVA, nested ANOVA). However, if you just want to fit a oneway ANOVA, then you can use the &lt;code&gt;loneway&lt;/code&gt; command.&lt;/p&gt;

&lt;h2 id=&quot;loneway-command&quot;&gt;&lt;code&gt;loneway&lt;/code&gt; Command&lt;/h2&gt;

&lt;p&gt;The &lt;code&gt;loneway&lt;/code&gt; command is just for oneway ANOVA models. It provides output in addition to the source table, such as the intraclass correlation and the reliability of the group means. So depending upon the analysis you want to do and the information you need, &lt;code&gt;loneway&lt;/code&gt; can be really useful.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;loneway price foreign
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&quot;/assets/Results-auto_dta-2.jpg&quot; alt=&quot;Results-auto_dta-2.jpg&quot; /&gt;&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Things I Love About Stata -- egen mean</title>
   <link href="psychstatistics.github.io/2011/05/30/things-i-love-about-stata-egen-mean/"/>
   <updated>2011-05-30T22:10:29-06:00</updated>
   <id>psychstatistics.github.io/2011/05/30/things-i-love-about-stata-egen-mean</id>
   <content type="html">&lt;h1 id=&quot;egen-mean&quot;&gt;egen mean&lt;/h1&gt;

&lt;p&gt;I work a lot with clustered data, including group psychotherapy data (people clustered in groups), individual psychotherapy data (people clustered within therapists), and longitudinal data (observations clustered within people). Consequently, I often need to create cluster-level means and grand means for graphing and modeling. The &lt;code&gt;egen mean&lt;/code&gt; function makes creating means easy. Combining &lt;code&gt;egen mean&lt;/code&gt; with &lt;code&gt;by&lt;/code&gt; processing in Stata makes this a breeze, even when cluster sizes differ.&lt;/p&gt;

&lt;h2 id=&quot;egen-mean-for-grand-means&quot;&gt;&lt;code&gt;egen mean&lt;/code&gt; for grand means&lt;/h2&gt;

&lt;p&gt;The &lt;code&gt;egen&lt;/code&gt; function is used to create new variables. To create a mean with &lt;code&gt;egen&lt;/code&gt; we use the following syntax:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;egen nameofnewvariable=mean(nameofoldvariable)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We can download the the pig data from the &lt;code&gt;xtmixed&lt;/code&gt; help.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;webuse pig, clear
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The variables are &lt;strong&gt;id&lt;/strong&gt;, &lt;strong&gt;week&lt;/strong&gt;, and &lt;strong&gt;weight&lt;/strong&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;list in 1/15, clean
id week weight
1. 1 1 24
2. 1 2 32
3. 1 3 39
4. 1 4 42.5
5. 1 5 48
6. 1 6 54.5
7. 1 7 61
8. 1 8 65
9. 1 9 72
10. 2 1 22.5
11. 2 2 30.5
12. 2 3 40.5
13. 2 4 45
14. 2 5 51
15. 2 6 58.5
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We can create a grand mean (say, for creating centered variables) of &lt;strong&gt;weight&lt;/strong&gt; using &lt;code&gt;egen&lt;/code&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;egen grandweight=mean(weight)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This creates a new variable that is equal to the grand mean for weight (it is a constant across all variables)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;list in 1/15, clean
id week weight grandw~t
1. 1 1 24 50.40509
2. 1 2 32 50.40509
3. 1 3 39 50.40509
4. 1 4 42.5 50.40509
5. 1 5 48 50.40509
6. 1 6 54.5 50.40509
7. 1 7 61 50.40509
8. 1 8 65 50.40509
9. 1 9 72 50.40509
10. 2 1 22.5 50.40509
11. 2 2 30.5 50.40509
12. 2 3 40.5 50.40509
13. 2 4 45 50.40509
14. 2 5 51 50.40509
15. 2 6 58.5 50.40509
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;egen-mean-for-cluster-means&quot;&gt;&lt;code&gt;egen mean&lt;/code&gt; for cluster means&lt;/h2&gt;

&lt;p&gt;We can combine &lt;code&gt;egen mean&lt;/code&gt; with &lt;code&gt;by&lt;/code&gt; to compute cluster means. (Remember that &lt;strong&gt;id&lt;/strong&gt; is the cluster id variable.)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;by id: egen groupweight=mean(weight)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If the &lt;strong&gt;id&lt;/strong&gt; variable isn’t sorted, then you can change the code to:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;by id, sort: egen groupweight=mean(weight)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This creates a variable that is equal to the cluster mean for each cluster. That is, its value is constant within clusters but varies across clusters.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;list in 1/15, clean
id week weight grandw~t groupw~t
1. 1 1 24 50.40509 48.66667
2. 1 2 32 50.40509 48.66667
3. 1 3 39 50.40509 48.66667
4. 1 4 42.5 50.40509 48.66667
5. 1 5 48 50.40509 48.66667
6. 1 6 54.5 50.40509 48.66667
7. 1 7 61 50.40509 48.66667
8. 1 8 65 50.40509 48.66667
9. 1 9 72 50.40509 48.66667
10. 2 1 22.5 50.40509 51.33333
11. 2 2 30.5 50.40509 51.33333
12. 2 3 40.5 50.40509 51.33333
13. 2 4 45 50.40509 51.33333
14. 2 5 51 50.40509 51.33333
15. 2 6 58.5 50.40509 51.33333
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;looking-at-missing-data&quot;&gt;Looking at missing data&lt;/h2&gt;

&lt;p&gt;You can also use &lt;code&gt;egen&lt;/code&gt; to generate a variable to examine missing data on each row. This can be particularly important when you are generating scale variables, or variables that will be combining values of multiple variables. For example, in the pig data above, if they were to weigh the pigs a second time (weight2) and create a variable of the difference between Time 1 and 2, if any pig were missing one of the time points, the difference score would not be accurate. In this hypothetical example, you could use &lt;code&gt;egen&lt;/code&gt; combined with &lt;code&gt;rowmiss&lt;/code&gt; to create a missing variable to examine this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;egen missing = rowmiss(weight weight2)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then you can use the tabulate command to identify if any values are missing:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;tabulate missing
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&quot;/assets/tabulate_missing1.png&quot; alt=&quot;tabulate.missing1.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Take a look at the other functions of &lt;code&gt;egen&lt;/code&gt;–they’re remarkably useful.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>AMOS: Introduction</title>
   <link href="psychstatistics.github.io/2010/11/16/amos-introduction/"/>
   <updated>2010-11-16T04:47:22-07:00</updated>
   <id>psychstatistics.github.io/2010/11/16/amos-introduction</id>
   <content type="html">&lt;h1 id=&quot;introduction-to-amos&quot;&gt;Introduction to AMOS&lt;/h1&gt;

&lt;p&gt;These screencasts will introduce you to the basic interface of AMOS.&lt;/p&gt;

&lt;h2 id=&quot;part-i&quot;&gt;Part I&lt;/h2&gt;
&lt;p&gt;&lt;object width=&quot;560&quot; height=&quot;340&quot;&gt;&lt;param name=&quot;movie&quot; value=&quot;http://www.youtube.com/v/GA2hco5604M?fs=1&amp;amp;hl=en_US&amp;amp;hd=1&quot; /&gt;&lt;param name=&quot;allowFullScreen&quot; value=&quot;true&quot; /&gt;&lt;param name=&quot;allowscriptaccess&quot; value=&quot;always&quot; /&gt;&lt;embed src=&quot;http://www.youtube.com/v/GA2hco5604M?fs=1&amp;amp;hl=en_US&amp;amp;hd=1&quot; type=&quot;application/x-shockwave-flash&quot; allowscriptaccess=&quot;always&quot; allowfullscreen=&quot;true&quot; width=&quot;560&quot; height=&quot;340&quot; /&gt;&lt;/object&gt;&lt;/p&gt;

&lt;h2 id=&quot;part-ii&quot;&gt;Part II&lt;/h2&gt;

&lt;p&gt;&lt;object width=&quot;560&quot; height=&quot;340&quot;&gt;&lt;param name=&quot;movie&quot; value=&quot;http://www.youtube.com/v/6tZFOsp7vfw?fs=1&amp;amp;hl=en_US&amp;amp;hd=1&quot; /&gt;&lt;param name=&quot;allowFullScreen&quot; value=&quot;true&quot; /&gt;&lt;param name=&quot;allowscriptaccess&quot; value=&quot;always&quot; /&gt;&lt;embed src=&quot;http://www.youtube.com/v/6tZFOsp7vfw?fs=1&amp;amp;hl=en_US&amp;amp;hd=1&quot; type=&quot;application/x-shockwave-flash&quot; allowscriptaccess=&quot;always&quot; allowfullscreen=&quot;true&quot; width=&quot;560&quot; height=&quot;340&quot; /&gt;&lt;/object&gt;&lt;/p&gt;
</content>
 </entry>
 

</feed>
